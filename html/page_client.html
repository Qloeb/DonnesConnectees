<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8" />
        <link rel="shortcut icon" href="#">
		<title> Titre </title>
		<script>
			
			function envoi(){
				var body = {"URI":document.getElementById('URI').value, 
							"Commentaire":document.getElementById('IdCommentaire').value};

				var route = "/annotation";
				fetch(route, {    method:'POST', 
								  body: JSON.stringify(body),
								  headers:{'Content-Type': 'application/json'}
							}).then(
					function(res){ 
						window.location.reload();
						console.log(body); 
					});
			};

			function recup_annotations(){
				var route = "/recup_annotations"
				fetch(route, {	method: 'GET',});
			};

			function recup_annotations_uri(){
				
				var uri = document.getElementById('IdURI_get_all').value;

				var route = "/recup_annotations_uri?uri="+uri.toString();
				console.log(route);
				
				fetch(route, {method:'GET'})
			};

			function recup_une_annotation(){
				
				var uri = document.getElementById('IdURI_get_one').value;
				var id = document.getElementById('id_annotation').value;
	
				var route = "/recup_annotation_uri_id?uri="+uri.toString();
				route += "&id="+id.toString();
				console.log(route);
				
				fetch(route, {method:'GET'});
			};

		
		</script>
	</head>
	<body>

        <h1>Enregistrer une annotation</h1>
		<form autocomplete="off">
			<p>
				<label for="URI">URI :</label>
				<input type="text" name="URI" id="URI" placeholder="" size="30" maxlength="20">
			</p>
			<p>
				<label for="Commentaire">Ajoutez commentaire</label><br>
				<textarea name="Commentaire" id="IdCommentaire" size="30"></textarea>
			</p>
			<p> 
				<button onclick="envoi()" type="button">Envoyer</button>
			</p>
		</form>

		<h1>Acceder à toutes les annotations</h1>

		<form autocomplete="off">
			<button onclick="recup_annotations()" type="button">Envoyer</button>
		</form>

		<h1>Acceder à toutes les annotations d'une ressource</h1>

		<form autocomplete="off">
			<p>
				<label for="IdURI_get_all">URI :</label>
				<input type="text" name="IdURI_get_all" id="IdURI_get_all" placeholder="" size="30" maxlength="20">
			</p>
			<button onclick="recup_annotations_uri()" type="button">Envoyer</button>
		</form>

		<h1>Acceder à une annotation d'une ressource</h1>

		<form autocomplete="off">
			<p>
				<label for="IdURI_get_one">URI Ressource :</label>
				<input type="text" name="IdURI_get_one" id="IdURI_get_one" placeholder="" size="30" maxlength="20">
			</p>

			<p>
				<label for="id_annotation">ID Annotation :</label>
				<input type="text" name="id_annotation" id="id_annotation" placeholder="" size="30" maxlength="20">
			</p>
			<button onclick="recup_une_annotation()" type="button">Envoyer</button>
		</form>

	</body>
</html>
